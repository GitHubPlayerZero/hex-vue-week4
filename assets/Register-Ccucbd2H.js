import{r as i,c as f,w as r,j as s,b as a,f as c,g as _,u as b,k as w,o as v,h,R as C}from"./index-5eGajqDw.js";import{a as u,b as k}from"./auth-0suEmAKL.js";const g=a("h2",{class:"formControls_txt"},"註冊帳號",-1),V=a("label",{class:"formControls_label",for:"email"},"Email",-1),x=a("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),y=a("label",{class:"formControls_label",for:"pwd"},"密碼",-1),P=a("label",{class:"formControls_label",for:"repeatPwd"},"再次輸入密碼",-1),R=a("button",{type:"submit",class:"formControls_btnSubmit"},"註冊帳號",-1),B={__name:"Register",setup(U){const n=i("123456"),d=i(null),t=i({email:"aaa1@gmail.com",nickname:"ababab",password:"123456"});function m(l){return l.password!==n.value?(alert("密碼不一致，請重新輸入！"),d.value.focus(),!1):!0}function p(){const{value:l}=t;m(l)&&u.postSignUp(l).then(e=>(alert("註冊成功，將自動為您轉換到待辦事項～"),u.postSignIn(l))).then(e=>{k.login(e.data.token)}).catch(e=>{console.error("[register] error ==>",e),alert(u.parseError(e))}).finally(()=>{})}return(l,e)=>(v(),f("form",{class:"formControls",onSubmit:w(p,["prevent"])},[g,V,r(a("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.email=o),class:"formControls_input",type:"email",id:"email",name:"email",placeholder:"請輸入 email",required:""},null,512),[[s,t.value.email]]),x,r(a("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.nickname=o),class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱",required:""},null,512),[[s,t.value.nickname]]),y,r(a("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.password=o),class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:""},null,512),[[s,t.value.password]]),P,r(a("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>n.value=o),ref_key:"refRepeatPwd",ref:d,class:"formControls_input",type:"password",name:"repeatPwd",id:"repeatPwd",placeholder:"請再次輸入密碼",required:""},null,512),[[s,n.value]]),R,c(b(C),{to:{name:"login"},class:"formControls_btnLink"},{default:_(()=>[h("登入")]),_:1})],32))}};export{B as default};
